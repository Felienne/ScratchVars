\documentclass[conference]{IEEEtran}

\usepackage{graphicx}
\usepackage{url}
\usepackage{framed}
\usepackage{enumitem}

\newcommand{\todo}[1]{ \textbf{#1} }
\newcommand{\quotes}[1]{\textit{``#1''}}

% correct bad hyphenation here
\hyphenation{op-tical net-works semi-conduc-tor}


\begin{document}

\title{How do Scratch Users Name Variables and Procedures? }

% author names and affiliations
% use a multiple column layout for up to three different
% affiliations
\author{\IEEEauthorblockN{Author1}
\IEEEauthorblockA{Uni1\\
Address1\\
Email: email1.com}
\and
\IEEEauthorblockN{Author2}
\IEEEauthorblockA{Uni2\\
	Address2\\
	Email: email2.com}}
% make the title area
\maketitle

% As a general rule, do not put math, special symbols or citations
% in the abstract
\begin{abstract}
Research shows the importance of choosing good names to identifiers in software code. More meaningful names improve the comprehension and readability of software code, which leads to increased efficiency in maintenance tasks. 
In particular, several guidelines encourage long and descriptive variable names.
A recent study analyzed the use of variable names in five popular programming languages, with a focus on single-letter variable names because of the apparent contradiction between their frequent use and the fact that these variables violate the aforementioned guidelines. 

In this paper, we focus on single-letter variables in Scratch, a popular block-based visual language which focuses on teaching children programming.
We start by replicating the previously mentioned study for Scratch. 
We augment this study by analyzing single-letter procedure names, as well as by investigating the use of Scratch specific naming patterns including spaces in variable names and textual labels in procedure definitions and calls.

The results of our analysis show that Scratch users often use variable and procedure names between 4 and 10 characters in length. For the single letter variables, the most recurring names are x, y and i. While single letter procedures are less popular, the usage of letters is not linked with one character. \emph{I do not understand the meaning of the previous sentence}

Concerning Scratch specific features, 20\% of projects have variables that include spaces in the name. The usage of textual string between parameters appears as not so common, however textual patterns used imply an inference from textual languages by using brackets for example. 
Finally, when compared to the other programming languages, Scratch variable names tend to be longer than of the mainstream programming languages, and the usage of single uppercase letters seems to be similar to the pattern found in Perl, while for the lowercase letters---to the pattern found in Java. 

\emph{AS: I'm missing conclusion, some kind of take away message.}
\end{abstract}

\IEEEpeerreviewmaketitle

\section{Introduction}
The naming of identifiers in the source code has been extensively studied (see, e.g., recent studies of this subject \cite{AmanASK15,AvidanF17,Beniamini,ButlerWYS10,HofmeisterSH17,LunguK13,ScannielloR13,TramontanaRS14}).
Still, the impact of the variable name choice on code readability and maintainability is controversial, as witnessed, e.g., by recent studies of Beniamini et al.~\cite{Beniamini} and Hofmeister et al.~\cite{HofmeisterSH17} reaching contradictory conclusions.
%Comprehension is linked to maintainability tasks and efficient performance of developers while performing them. \todo{AS says: we need either a citation to support this claim or rephrase} As one scientist once said \quotes{the code should be considered for human and less occasionally for a computer to execute}.\todo{AS asks: who has said this? This is a common adagio but I have no idea who is the author.}
%
Furthermore, computer science and programming education seems to focus on the programming concepts and the syntax of the languages as opposed to practices in naming variables and identifiers. 
Indeed, while ``meaningful variable names'' are advocated by some teachers~\cite{Kato2016} and practitioners~\cite{Rother} neither the ACM Curriculum Guidelines for Undergraduate Programs in Computer Science\footnote{\url{http://www.acm.org/education/CS2013-final-report.pdf}} nor the Curriculum Guidelines for Undergraduate Degree Programs in Software Engineering\footnote{\url{http://www.acm.org/binaries/content/assets/education/se2014.pdf}} discuss this topic.
In fact, standard metasyntactic variables used in syntax examples are \quotes{foo} and \quotes{bar}~\cite{Raymond}.
The names of these identifiers are meaningless, and to some extent, they represent a refusal to name, suggesting the learner that naming is less important, or irrelevant, to the programming task. 

%Recent studies have focused on the analysis of identifier naming in software code repositories, with a focus on single letter variables, since they are considered especially ambiguous. 

In this paper, \textbf{we analyze the use of variable and procedure names in Scratch}. 
Scratch is a block-based visual language developed by MIT with the aim of helping young people learn the basic concepts of programming and collaboration. 
Scratch has recently become very popular among school-age children and in several countries has been introduced as part of the school curriculum as a means to teach programming~\cite{vanZyl,SaezLopez}.
Moreover, the overall popularity of Scratch is witnessed by Scratch being currently rated 19 in the TIOBE index\footnote{\url{https://www.tiobe.com/tiobe-index/}}, topping such languages as Lua, Scala and Groovy and since early 2014 exhibiting an increasing trend shown in Fig.~\ref{fig:tiobe}.
\begin{figure}
  \begin{center}
  \includegraphics[width=\columnwidth]{fig/tiobe}
  \caption{TIOBE Programming Community index: evolution of the popularity of Scratch: https://www.tiobe.com/tiobe-index/scratch/}
  \label{fig:tiobe}
  \end{center}
\end{figure} 



%Understanding maintenance in general and naming behavior specifically is important, since there is quite some maintenance done on Scratch programs by children. 
%Scratch has a repository in which creators can share programs\footnote{\url{https://Scratch.mit.edu/explore/projects/all/}}. 
%Shared Scratch programs can be `remixed' by other Scratch users, which means that a copy of this program is placed in the user's own project collection, and can be then further changed. 
%The `remix tree' of projects is public, so users can track which users remix their programs, a bit similar to forking in GitHub. 
%Contrary to forking however, changes upstream cannot be integrated back into the original project. 
%Remixing is common in the Scratch community (\todo{I think there are some papers on this}). 
%Therefore bad naming habits in Scratch programs could actually harm understandability.

We believe that there are several reasons why understanding the naming practices in the Scratch community is important.
First, it is important for the Scratch community itself as bad naming practices can easily propagate from one program to another through `remixing'~\cite{Hill:Monroy-Hernandez,Davis:Kafai:Vasudevan:Lee}, code sharing practice similar to GitHub forking.
Second, it is important for researchers. Software engineering researchers can learn how to support novice programmers, taking their first steps in programming.
Researchers on software engineering education can obtain insights in how to define naming guidelines for educational materials, and analyzing the differences between Scratch and textual languages can help in supporting the transition from visual languages to textual ones~\cite{Dann,Matsuzawa}. 

We start by a \textbf{general discussion of naming practices} in Scratch and analyze the previously published collection of 250000 Scratch projects~\cite{Aivaloglou2016HowKC}. 
We replicate two studies from a recent paper by Beniamini et al.~\cite{Beniamini}.
Similarly to Beniamini et al. we investigate the distribution of the lengths of variable names and study popularity of single-letter variable names such as $i$ and $x$.
As opposed to Beniamini et al. that focused on variable naming in five mainstream programming languages we focus on Scratch.
Furthermore, while we Beniamini et al. solely focused on the names of the variables we repeat their study for procedures as well.

\begin{framed}
Variable and procedure names in Scratch range mostly between 4 and 10 characters. 
For the single letter variables, the most commonly used names are $x$, $y$ and $i$, procedures---$a$ and $r$. 
When compared to the other programming languages, we observe that single-letter variable names are less common in Scratch and that overall Scratch variables have longer names. 
The usage of single uppercase letters is similar to the pattern found in Perl, for the lowercase---to the pattern found in Java.
\end{framed}


Next we focus on \textbf{Scratch-specific features in naming identifiers}.
In particular, we aim at understanding to what extent spaces within identifiers (e.g., variable \emph{max i}), digits as identifiers (e.g., a variable named \emph{6}) and textual labels used between the parameters. 
For example instead of printing the first $n$ letters from a string $s$ with a procedure called ``printnof($n$,$s$)'', in Scratch one can define a procedure called ``say $n$ characters from text $s$", as shown in Figure \ref{fig:procedures}. 
This feature exists in some textual languages too (most notable in SmallTalk) but is not common in most mainstream languages. 

Investigating the use of these Scratch specific naming patterns is interesting to understand their role in novice programming. If they are popular among Scratch developers, this might be because they ease novice programming, and that means one could even advocate that these features should be integrated in the mainstream programming languages, if only to ease the transition from block-based languages into textual languages.

\begin{framed}
 Spaces in variable names are common: 20\% of projects use this feature. 
 Digits as identifiers are rarely used, and mostly represent constants or parts of the data structure.
 The usage of textual string between parameters appears as not so common, however textual patterns used imply an inference from textual languages, e.g., by using brackets. 
\end{framed}

\section{Related work}
Naming identifiers in software code has been studied extensively in the past decades~\cite{AmanASK15,AnquetilL98,AvidanF17,Beniamini,ButlerWYS10,CaprileT00,HofmeisterSH17,LawrieMFB07,LunguK13,ScannielloR13,TakangGM96,Teasley,TramontanaRS14}. 
In practice, identifiers constitute a major part of the source code: e.g., Dei{\ss}enb{\"o}ck and Pizka found that in Eclipse 3.0M7 which is tantamount to 2 MLoC, 33\% of the tokens and 72\% of characters correspond to identifiers~\cite{Deissenbock}. 

For a human to read that code, it is crucial to understand what the identifier means, and deduce what the code does. 
With no surprise, several studies have investigated the link between identifier naming and code readability/comprehension~\cite{AvidanF17,HofmeisterSH17,LawrieMFB07,TakangGM96,Teasley} or identifier naming and externally observable aspects of the software development process that are expected to be affected by comprehension such as change-proneness~\cite{AmanASK15}, quality~\cite{ButlerWYS10,LunguK13} and presence of faults~\cite{ScannielloR13,TramontanaRS14}.
Caprile and Tonella~\cite{CaprileTonella} have explicitly addressed naming of functions, while Caracciolo et al. observed that most method names tend to consist of several words but rarely more than five words~\cite{Caracciolo}.
%The comprehension is not a target in its own; the true reason is that better comprehension lets the developers perform maintenance tasks more effectively and efficiently.
%But what is a good naming approach? 
%It is out of this paper's scope to explore the various recommendations of good identifier naming. 
%However, it is worth to mention that there are different perspectives on what a good name is. 
%Some researchers emphasize the usage of actual and complete words from a dictionary, or known abbreviations, which reflect the context of the program's purpose. 
%Others argue that consistency in naming style is the most important. 
%The usage of single-letter identifiers attracts much attention in research. 
%For programmers, it is tempting to choose single-letter identifiers for quicker code writing that involves less mental load on the choice of a name. 
%Additionally, single-letter named variables such as \quotes{i} or \quotes{j} have become almost a standard choice for index values when coding loops. 
%Research has shown however that shorter identifier names are longer to comprehend, and the length of a variable should reflect its scope. 
%
%Despite the agreement on the importance of identifier names, and efforts to introduce naming guidelines and additional tools to help the programmer choose better names, developers find giving appropriate names to identifiers as a difficult task. In the end, it is the decision of the individual writing the code, and many factors may contribute to that decision. One area to consider here is the computer science and in particular programming education. There seems to be a great focus on the programming concepts, while less to zero attention is given to beautifying the code. For example, the usage of the identifier names \quotes{foo} and \quotes{bar} is prevalent in code examples. These names have no real meaning, and the student cannot link them to what the code does.  
%
%We are inspired by the work done by Beniamini et al.~\cite{Beniamini} where they explored the single-letter naming for multiple software repositories from different programming languages. It is important for the software community to understand the patterns in which software developers apply naming to identifiers. We argue that this understanding can improve the quality of the guidelines and introduce research-supported tools that meet the needs of the programmers. For this sake, we believe it is even more important to focus on the novice programmers, students, and learners. For these future developers, the usage of a particular naming pattern in this level forms a (mis)conception that could move along with them to other programming languages and future careers. 

Going beyond the discussion of whether variable names should be shorter or longer, Arnaoudova et al.~\cite{ArnaoudovaPAG13,ArnaoudovaPA16} have studied linguistic anti-patterns, ``recurring poor practices in the naming, documentation, and choice of identifiers in the implementation of an entity'' such as discrepancies between the behavior implied by the identifier (e.g., {\sc INCLUDE\_NAME\_DEFAULT} in the Cocoon Apache project) and the corresponding comment (``Configuration default exclude pattern''), or between the identifier and commonly applied guidelines (e.g., getter that does not only access fields). 
In the educational setting Glassman et al. propose Foobaz, a tool giving semi-automatic feedback on student variable names based on the values the variable can take during the execution and limited input from the teacher~\cite{Glassman}.

While visual languages such as Scratch, Sqeak and Alice recently become a favorable choice for elementary and high schools as an introduction to programming~\cite{Matsuzawa}, the lion's share of the previous work on identifier naming has focused on textual languages.
Notable exception is the recent work of Moreno and Robles~\cite{MoreonoRobles}: Moreno and Robles have observed that students often keep names automatically generated by the Scratch environment rather than changing them. 
van Zyl et al. have observed that one of the interviewed school teachers working with Scratch has taught the students to integrate variable types in their names, e.g., `S' for Strings~\cite{vanZyl}.
% These block-based languages allow the user to create and assign their identifiers for variables and blocks. By studying these identifiers, we can understand better how novice programmers apply standard and language-specific naming, and how it compares to other textual based languages previously explored in the literature. 

\section{Relevant Scratch Concepts}
\label{sec:Scratch}
We briefly introduce several core features of Scratch required for understanding the reminder of the paper. 
Interested readers are referred to \cite{brennan_creative_2014} for an extensive overview.  

Scratch is a block-based programming language aimed at children, developed by MIT. Scratch can be used to create games and interactive animations, and is available both as a stand-alone application and as a web application. Fig.~\ref{fig:ui} shows the Scratch user interface in the Chrome browser.

\subsubsection{Sprites}
Scratch code is organized into `sprites': two-dimensional pictures that each have their own source code. Scratch allows users to bring their sprites to life in various ways, for example by moving them in the plane, having them say or think words or sentences via text balloons, but also by having them make sounds, grow, shrink and switch costumes. 

The Scratch program in Fig.~\ref{fig:ui} consists of one sprite, the cat, which is Scratch's default sprite and logo\footnote{\url{https://Scratch.mit.edu/projects/97086781/}}. The code in the sprite will cause the cat to jump up, say ``hello'', and come back down, when the green flag is clicked, and to make the `meow' sound when the space bar is pressed.

\begin{figure}
  \begin{center}
  \includegraphics[width=\columnwidth]{fig/ui.png}
  \caption{The Scratch user interface consisting of the `cat' sprite on the left, the toolbox with available blocks in the category `motion' in the middle and the code associated with the sprite on the right.}
  \label{fig:ui}
  \end{center}
\end{figure} 

%\subsection{Events}
%Scratch is \emph{event-driven}: all motions, sounds and changes in the looks of sprites are initiated by events. The canonical event is the `when Green Flag clicked', activated by clicking the green flag at the top of the user interface. In addition to the green flag, there are a number of other events possible, including key presses, mouse clicks and input from a computer's microphone or webcam. In the Scratch code in Figure \ref{fig:ui} there are two events: `when Green Flag clicked' and `when space key pressed'

\subsubsection{Scripts}
Source code within sprites is organized in scripts: a script always starts with an event, followed by a number of blocks. The Scratch code in Fig.~\ref{fig:ui} has two distinct scripts, one started by clicking on the green flag and one by pressing the space bar. It is possible for a single sprite to have multiple scripts initiated by the same event. In that case, all scripts will be executed simultaneously. 

%\subsection{Remixing}


\subsubsection{Variables}
Like most textual languages, Scratch users can use variables. Variables are untyped, but have to be `declared' through the Scratch user interface, shown in Fig.~\ref{fig:ui-vars}. This figure also shows that, contrary to most programming languages, variable names in Scratch may contain spaces.

\begin{figure}
  \begin{center}
  \includegraphics[width=\columnwidth]{fig/ui-vars.png}
  \caption{The Scratch user interface to create a variable}
  \label{fig:ui-vars}
  \end{center}
\end{figure} 

\subsubsection{Procedures} \label {sec:Scratch_func}
Scratch also allows users to create their own blocks, called procedures. They can have input parameters, and labels in between them. Procedures are created with an interface similar to the one to create variables. Fig.~\ref{fig:procedures} shows the definition and invocation of a procedure.

\begin{figure}
  \begin{center}
  \includegraphics[width=\columnwidth]{fig/procedures2.png}
  \caption{Scratch code to define and invoke a procedure}
  \label{fig:procedures}
  \end{center}
\end{figure} 


\section{Research design and dataset}
\subsection{Overall design}
\label{sec:design}
As our goal is to compare the naming practices among the Scratch-developers with those of the developers in the mainstream programming languages we start by partially replicating the recent work of Beniamini et al. on the use of single-letter variables in Java, C, PHP, Perl and JavaScript~\cite{Beniamini}. 
In terms of the classification of Shull et al.~\cite{Shull2008} we perform a dependent replication of the studies summarized in Fig.~1 and 2 of the original work~\cite{Beniamini}.  
Inherently, the programming language is the only factor we vary when compared to the original study. 
However, Scratch programs are not available on GitHub, so we use the dataset previously scraped and processed by Aivaloglou and Hermans~\cite{Aivaloglou2016HowKC}. 
We report on the results of these replications in Sections~\ref{res:var:length} and \ref{res:var:names}.

Similarly, we perform another dependent replication of the same studies by considering procedure names rather than variable names in Scratch (Section~\ref{res:proc}).

Next, we perform a conceptual replication of the study of the single-letter variable types of Beniamini et al.~\cite{Beniamini}. 
While the original study has conducted a survey to understand the type-related user perceptions (``what type would you consider for a variable called ...?'') we focus on the types as used in the program. 
We opt for types as being used as opposed to as being perceived due to limited programming experience of the intended Scratch programmers.
Indeed, Scratch is meant for individuals in their first steps of learning how to program, such as school-age students and we do not expect them to have established  perceptions on data types of single-letters variables. 
As opposed to our work, in the original study however, 30\% of survey respondents claim a 10-years experience in programming, while  23\% have programming knowledge in six different languages or more~\cite{Beniamini}. 
Furthermore, we study types as used as opposed to types as defined, since Scratch does not have a concept of an explicit variable type.
However, we can deduce the variable types from assignments involving those variables. 
For example, the two variables in Fig.~\ref{fig:types} represent a string and an integer respectively. 
Results of this conceptual replication are presented in Section~\ref{res:types}.

\begin{figure}
	\begin{center}
		\includegraphics[width=5cm]{fig/types}
		\caption{Two variables, one of type string and one of type integer}
		\label{fig:types}
	\end{center}
\end{figure} 

Finally, in Section~\ref{res:Scratch:specific} we report on the ways Scratch developers employ Scratch-specific naming practices such as spaces in variable names, numeric values as variables and the use of textual labels in between parameters.

\subsection{Dataset}
For this paper we use the dataset created by Aivaloglou and Hermans~\cite{Aivaloglou2016HowKC}, consisting of 250000 Scratch projects scraped from the Scratch website in March 2016. 
From this dataset, we have selected the projects that use variables or procedures, tantamount to 73473 projects of 29\% of the Aivaloglou and Hermans's original dataset. 
Variables are used more often than procedures: 69045 projects (27.6\%) use variables, while 17605 use procedures (7\%). 
We used Python to process the original dataset and generate the graphs in this paper. 
The code we used is available at \url{https://github.com/Felienne/ScratchVars}.

\subsection{Data analysis}
\label{sec:da}
%To augment the visual comparison of the data we conduct statistical analysis. 
Understanding differences in variable name lengths occurring between different programming languages requires comparison of multiple distributions. 
Such a comparison is traditionally performed as a two-step process consisting of (1) testing a global null hypothesis, that can be intuitively formulated as ``all distributions are the same'', using ANOVA or its non-parametric counterpart, the Kruskal-Wallis test, and (2) performing multiple pairwise comparisons of different distributions, testing specific subhypotheses such as ``distributions 2 and 4 are the same''. 
However, it has been observed that such a two-step approach can result in inconsistencies when either the global null hypothesis is rejected but none of the pairwise subhypotheses is rejected or vice versa~\cite{Gabriel}. 
Moreover, it has been suggested that the Wilcoxon-Mann-Whitney test, commonly used for subhypothesis testing, is not robust to unequal population variances, especially in the unequal sample size case~\cite{Zimmerman:Zumbo}
Therefore, one-step approaches have been sought.
We opt for one such approach, the $\widetilde{\mathbf{T}}$-procedure of Konietschke et al.~\cite{Konietschke:Hothorn:Brunner,Konietschke:nparcomp}. 
This procedure is robust against unequal population variances, respects transitivity, and has been successfully applied in empirical software engineering~\cite{VasilescuSGM14,VasilescuCS14,YuWYW16}.
In particular, we use the Tukey (all-pairs) contrasts to compare all distributions pairwise.

To understand differences and similarities between the distributions of single-letter variable names in different languages we represent each programming language as a 26-dimensional vector with the dimensions corresponding to `a', ..., `z'.
To eliminate sensitivity in the ways the distance matrix is computed we first calculate the cosine similarity between vectors and compare the mean similarity of a language to the remaining languages in the dataset, and then perform hierarchical clustering based  on the Euclidean distance.

When comparing distributions of variable name lengths with the procedure name lengths, the $\widetilde{\mathbf{T}}$-procedure is not applicable.
Hence, we perform the Mann-Whitney-Wilcoxon test together with the two-sample test for the nonparametric Behrens-Fisher problem, i.e., test for
$H_0: p = 1/2$, where $p$ denotes the relative effect of the two independent samples~\cite{Neubert,Konietschke:nparcomp}.

\todo{something about how we analyze Scratch-specific things}

 \section{Results}
This section presents an overview of our analysis of variable and procedure name use in the previously published Scratch dataset~\cite{Aivaloglou2016HowKC}.

\subsection{Replication studies}
We start by reporting on the results of the replication studies.

\subsubsection{Variable name length}
\label{res:var:length}
The original study of Beniamini et al.~\cite{Beniamini} has concluded that the single-letter variable names ``are approximately as common as other short lengths except in PHP'' and that  ``in C, Java, and Perl they make up 9--20\% of the names.'' 
Fig.~\ref{fig:distribution_of_lengths} shows the distribution of lengths in the Scratch corpus. A closer look at the data reveals that the single-letter variables constitute ca. 4.9\% of all the variable names, i.e., less than the 9--20\% observed by Beniamini et al.

\begin{figure}[tb]
	\begin{center}
		\includegraphics[width=\columnwidth]{fig/varname_length_occurrences}
		\caption{The distribution of variable's name length in Scratch projects}
		\label{fig:distribution_of_lengths}
	\end{center}
\end{figure} 


Compared to mainstream languages, single-letter variables seem to be less common in Scratch, and the maximum length value for the variable names (250 characters) is the largest by a significant margin. 
These observations lead us to wonder whether overall the variable names in Scratch tend to be longer than in other programming languages.
To this end we apply the $\widetilde{\mathbf{T}}$-procedure described in Section~\ref{sec:da}. 
Statistical analysis reveals that indeed, variable names in Scratch tend to be longer than in the mainstream languages.
Moreover, variable names in Java tend to be longer than those in PHP, variable names in  PHP than those in C, variable names in C than those in JavaScript and finally variable names in JavaScript longer than those in Perl. In all cases $p$-values have been too small to be computed precisely.

We conclude that single-letter variable names are less common in Scratch than in other programming languages and that overall Scratch variables have longer names than variables in other programming languages.

\subsubsection{Single-letter variable names}
\label{res:var:names}
Further we investigate the case of single-letter variable names. For the previously studied programming languages, the authors in~\cite{Beniamini} highlight the following observations about the single-letter usage: 

\begin{enumerate}[label=\emph{\alph*})]
\item The most commonly occurring single-letter variable name is $i$.
The authors attribute this to $i$ being commonly used as a loop counter. 
As opposed to the studied mainstream languages, loops are performed in Scratch using predefined blocks. 
As illustrated on Fig.~\ref{fig:loop_Scratchblocks} the majority of these blocks do not require a variable to control the loop iterations. 
Hence, we expect the usage of the variable name $i$ to be less common in Scratch. \label{single-letter-vars:i}
\item Apart from the popularity of $i$ the distribution is language-dependent. 
Since Scratch is quite different from the mainstream programming languages considered by Beniamini et al., we expect the distribution of the single-letter variable names to be different from the distributions in these languages. 
Hence, we expect the \emph{similarity} between Scratch and the languages considered by Beniamini et al. to be lower than the \emph{similarity} between the languages considered by Beniamini et al. \label{single-letter-vars:similarity}
\item Finally, they observed that the lower case letters are used more frequently than the upper case letters. Since this is also the case for regular text in most natural languages as well, we expect the Scratch programs to follow the same pattern. \label{single-letter-vars:upercase:lowercase}
\end{enumerate}

\begin{figure}[h]
	\begin{center}
		\includegraphics[width=\columnwidth]{fig/loops_in_Scratch}
		\caption{Scratch blocks that are used to repeat specific actions}
		\label{fig:loop_Scratchblocks}
	\end{center}
\end{figure} 

\begin{figure}[h]
	\begin{center}
		\includegraphics[width=\columnwidth]{fig/varname_singleletter-occurrences}
		\caption{A histogram of single-letter variables occurrences in Scratch projects }
		\label{fig:one_letter_occurrence}
	\end{center}
\end{figure} 
Fig.~\ref{fig:one_letter_occurrence} shows the distribution of variables of one letter, in upper and lower case, in the Scratch corpus. 
Inspecting the data we observe that similarly to the previous study $i$ is the most commonly occurring variable. 
Hence, we conclude that \emph{contradicting our expectations} Observation~\ref{single-letter-vars:i} above also holds for Scratch. 
Furthermore, we observe that $x$ and $y$ are extremely popular in Scratch. 
This can be explained by noting that $x$ and $y$ represent the coordinates of the sprite object on the stage, which is the are where all the scripts are executed. 
Hence, they are the basis of moving the object in the 2-D stage. 
In fact, Scratch default blocks often use $x$ and $y$ as shown in \figurename{~\ref{fig:xy_Scratchblocks}}. 
It seems that Scratch users are inspired by the Scratch language to name their own variables. 

\begin{figure}[h]
	\begin{center}
		\includegraphics[width=\columnwidth]{fig/builtinblocks_xy}
		\caption{Some Scratch blocks that use x and y characters}
		\label{fig:xy_Scratchblocks}
	\end{center}
\end{figure} 

%\todo{From Alaaeddin: the following paragraph is the most ambiguous for me. It's is not clear to me if observation 2 and 3 are validated or negated. two analyses are done here to compare Scratch to other programming language: based on length distribution and based on single-letter patterns. upper and lower should be considered. I do not know exactly the outcome of these analyses }
%\\
%\todo{TODO-To be revised: Secondly, we observe that the distribution of single-letter variables in Scratch is indeed different than the studied languages by Beniamini \textit{et. al}.~\cite{Beniamini}. The use of lower case is prevalent among the single-letter Scratch variables. We further analyze the similarity between Scratch and the mainstream languages for the single-letter pattern. We use \todo{the method} as detailed in Section~\ref{sec:da}. Figure~\ref{label} shows the result of the analysis. It indicates that Scratch pattern of single-letter variables is highly similar to the pattern of single-letters in Perl.}

Next we study the similarity of Scratch to the mainstream programming languages in terms of frequency distribution of single-letter variable names.
Hence, we compare the mean cosine similarity of the twelve distributions (five mainstream programming languages plus Scratch, considered for the
uppercase and the lowercase letters).
The mean cosine similarity shows that the Scratch usage of the uppercase letters in the single-letter variable names is the most dissimilar among the
twelve distributions (0.39), while the way lowercase letters are used in Scratch quite similarly to the way letters are used in the mainstream programming languages (0.62).
Hence, we claim that our expectation based on the Observation~\ref{single-letter-vars:similarity} has been confirmed for the uppercase letters and  rejected for the lowercase letters. 
Closer look at Fig.~\ref{fig:similarity_single_letter} shows that the usage of single uppercase letters is similar to the pattern found in Perl, for the lowercase---to the pattern found in Java.

Finally, Fig.~\ref{fig:one_letter_occurrence} clearly shows that the lowercase letters are much more often used as variable names than the uppercase letters, providing support for Observation~\ref{single-letter-vars:upercase:lowercase}.

\begin{figure}[tb]
	\begin{center}
		\includegraphics[width=\columnwidth]{fig/cluster_single_letter}
		\caption{A cluster dendrogram of Scratch compared to other programming languages for the single-letter pattern}
		\label{fig:similarity_single_letter}
	\end{center}
\end{figure} 


\subsubsection {Procedure names}
\label{res:proc}
\begin{figure}[tb]
	\begin{center}
		\includegraphics[width=\columnwidth]{fig/funcname_length_occurrence}
		\caption{The distribution of procedure's name length in Scratch projects}
		\label{fig:distribution_of_lengths_func}
	\end{center}
\end{figure} 

Going beyond the study of Beniamini, we additionally consider the naming of procedures in Scratch. 
For a detailed explanation of procedures in Scratch see Section~\ref{sec:Scratch_func} and Fig.~\ref{fig:procedures}).  

Figure~\ref{fig:distribution_of_lengths_func} shows the distribution of procedures name length in the Scratch dataset. 
By inspecting this figure we observe that the procedure names tend to be longer compared to Scratch variable names. 
Indeed, the two-sample test for the nonparametric Behrens-Fisher problem estimates the relative effect of the two samples (procedure name lengths vs. variable name lengths) as $0.109$ (with the $p$-value being too small to be computed precisely), i.e., it indicates that the procedure names' lengths tends to be larger than the lengths of the variable names. 
This observation is confirmed by the Mann-Whitney-Wilcoxon test (the $p$-value is too small to be computed precisely).
Short names are not common, even less common than short names of variables: single-letter names compose less than 1\% of the extracted names, less than 4.9\% observed for Scratch variables and 9--20\% in C, Java and Perl~\cite{Beniamini}. 
The maximum length for a procedure name is 250 characters, which is the same as the maximum length for the variable names. 
We suspect this exact match is caused by a language constraint that was imposed in a previous versions of Scratch. 
Current version of Scratch, however, allows for names longer than 250 characters. 

In the same manner as the variable names, we consider single-letter names for the procedures and revisit Observations~\ref{single-letter-vars:i} and \ref{single-letter-vars:upercase:lowercase}. 
We could not revisit Observation~\ref{single-letter-vars:similarity} since data on single-letter procedure names in the mainstream languages is not available.
Fig.~\ref{fig:one_letter_occurrence_procedures} shows the number of occurrences for each alphabetic letter. 
We see that $i$ is no longer among the most commonly used letters rejecting Observation~\ref{single-letter-vars:i}.
The top used single-letter name is $a$, the first letter in the alphabet, which might explain its popularity.
The uppercase letters are used more often than the lowercase letters (629 vs. 503), rejecting Observations~\ref{single-letter-vars:upercase:lowercase}.
Sometimes the uppercase letter's frequency exceeds the one of the lowercase, e.g., in the case of $r$. 


\begin{figure}[h]
	\begin{center}
		\includegraphics[width=\columnwidth]{fig/funcname_singleletter-occurrences}
		\caption{A histogram of single-letter procedures occurrences in Scratch projects}
		\label{fig:one_letter_occurrence_procedures}
	\end{center}
\end{figure} 

%Types analysis
\subsubsection{Types}
\label{res:types}
In the original paper of Beniamini et al.~\cite{Beniamini} the authors observe that some letters are highly associated by developers with the type if its name which starts with these letters: e.g., char for $c$ and string for $s$. 
Integer data type is a common association for many other letters.
Letter names such as $x$, $y$ and $z$ are commonly interpreted as coordinates and there seems to be a balance between integer and float associations. 
As explained in Section~\ref{sec:design} we conduct a conceptual replication by considering types as used as opposed to types as perceived.

%With this process we can compare our results to the types of Beniamini et al.~\cite{Beniamini}. 

Fig.~\ref{fig:one_letter_type} shows the distribution of single-letter variables with the types inferred. 
Similarly to the observations of Beniamini et al. every letter can represent an integer variable.
As opposed to the observations of Beniamini et al. we see that the types associated with individual letters are much less diverse in Scratch: the integer data type is dominating every single letter.
Another disagreement with the original study pertains to the string data type: while in the mainstream programming languages strings are commonly associated with $s$ and less frequently with many other letters, the strings are almost completely absent in the Scratch data set.
While we can confirm the observation of Beniamini et al. that $c$ is used to represent characters, this is not the main usage of $c$ and no such association could be observed for floats, lists or strings.
Finally, presence of floats as types for $x$, $y$ and to lesser extent $z$ seems to support their interpretation as coordinates suggested by Beniamini et al.~\cite{Beniamini}.


\begin{figure}
	\begin{center}
		\includegraphics[width=\columnwidth]{fig/singleletter_type_occurrences}
		\caption{Inferred types for variables of one letter}
		\label{fig:one_letter_type}
	\end{center}
\end{figure} 

\subsection{Scratch-specific constructs}
\label{res:Scratch:specific}
In this section we analyze the occurrence of naming practices that are allowed in Scratch, but are missing from or are not common in most mainstream textual languages.

\subsubsection{Use of spaces in variable names}
For reasons of convenience, most textual programming languages do not allow for spaces in variable names. 
FORTRAN ignored spaces, so technically one could use a space, however that would mean that `apples' and `app les' refer to the same variable. 
Other languages supporting spaces in variable names are SQL and some Scheme implementations. 
Even languages targeting data analysts rather than software developers recommend spaces to be avoided~\cite{Bochud}.

We observe that about 30000 projects use one or more variables with a space in it, as opposed to 60000 that use only space-free variable names. 
Fig.~\ref{fig:number_of_spaces} shows that mostly one space is present in a variable name. 
We have found that many introductory Scratch programming materials \todo{reference} demonstrate the use of space-free variables, and that children---and adults---that already have programming experience deem the use of spaces in variables as non-natural\todo{reference}, even though arguable `number of apples' is more natural that `nApples'.

\begin{figure}
	\begin{center}
		\includegraphics[width=\columnwidth]{fig/spaces_varname_occurrences}
		\caption{Number of spaces in variable names}
		\label{fig:number_of_spaces}
	\end{center}
\end{figure} 

\subsubsection{Use of Numeric Variable Names}
In addition to spaces in variable names, Scratch even allows the use of numbers and even floating point numbers as variables. We found 718 projects with integer variable names and 19 with floating point names. While their use is rare, we manually examined some projects and numbers are used in interesting and clever ways. 
The most popular numeric values used as variable names include small natural numbers (1--12) and 360 likely to represent 360$^\circ$ (cf. Fig.~\ref{fig:numeric}).
		
There seem to be two main uses of numeric variable names. First of all, some variables with numeric names represent constants, as shown in Fig.~\ref{fig:constants}. This seems to indicate the Scratch users prefer to drag in a constant rather than repeatedly typing it.

\begin{figure}
	\begin{center}
		\includegraphics[width=\columnwidth]{fig/constants}
		\caption{Numeric variable used as a constant}
		\label{fig:constants}
	\end{center}
\end{figure} 

A second use is the use of integer variables as simple list structures. For example, one of the projects we analyzed is a tic-tac-toe game. In that project, the Scratch user defined nine variables named from 1 to 9. Each variable represents one of the nine boxes. Scratch supports lists, so the user here could have also used a list of 9 items, however, they did not. Maybe because they were nor familiar with the concept of lists, or maybe they thought this would be easier for the user to memorize the game logic.  

\todo{Maybe add the screenshot (thanks Alaaeedin) Not sure if we need it, lets see}

\begin{figure}
	\begin{center}
		\includegraphics[width=\columnwidth]{fig/numeric_as_vars_occurrences}
		\caption{The most popular numeric values used as variable names}
		\label{fig:numeric}
	\end{center}
\end{figure} 

\subsubsection{Use of Textual Labels between Parameters}
Scratch is influenced by the SmallTalk family of languages and this is visible form the fact that Scratch allows users to insert textual labels in between parameters in order to make procedures more readable, as can be seen in Fig.~\ref{fig:procedures}.
This practice seems particular idiomatic to Scratch, since normal Scratch blocks use a similar syntax, e.g., in the ``say ... for ... seconds" block. 

In total 4415 projects use textual labels, so their use is relatively uncommon. We do however find some interesting patterns. 
Fig.~\ref{fig:labels} shows the most commonly used labels. Here we see some patterns common in textual languages, like the use of labels for the names of the parameters `x:' and `y:'. 
Furthermore we see the use of `:' at the end of many patterns, which could come from the users being inspired by Scratch default blocks, which use the colon as shown in Fig.~\ref{fig:xy_Scratchblocks}. 
Finally the use of the space (char-space in Fig.~\ref{fig:labels}) is interesting, since Scratch already leaves some room between the parameters, also when a space is not used. 
The use of space as a separator could indicate that Scratch users feel room between variables is currently too small.

\begin{figure}
	\begin{center}
		\includegraphics[width=\columnwidth]{fig/text_in_the_middle_func_occurrences}
		\caption{The most used textual labels in between parameters of procedures}
		\label{fig:labels}
	\end{center}
\end{figure} 



 \section{Discussion}
\subsection{Threats to validity}
Representation of the sample
Statistical analysis chosen
\subsection{Naming in Scratch}
We only considered features of Scratch that enforce the user to input textual values. For example the name of the sprites can also be considered as an identifier. However, Scratch assigns default names to sprites once they are created, and the user may opt not to change it. Default names can be considered as a bad naming practice, but it is out of the scope of this paper.\\
\todo{other ideas for the discussion: for example: \\
what effects would the outcome of this analysis have on Scratch-related material\\
or maybe we skip the discussion?
}

\section{Conclusion}
In this paper, we study naming patterns for variables and functions in the Scratch programming language, a block-based programming language aimed at novice programmers. We use a previously released dataset consisting of 250.000 Scratch programs. 

Our analysis shows that Scratch users most often use variable and procedure names between 4 and 10 characters in length. For the single letter variables, the most commonly used names are x, y and i. Spaces in variable names, a feature relatively unique to Scratch are used in 20\% of projects have variables that include spaces in the name. The usage of textual string between parameters appears as not so common, however textual patterns used imply an inference from textual languages by using brackets for example. Finally, when compared to the other programming languages, Scratch variable length distribution, and the usage of single-letter seems to be most similar to Perl.

The paper makes the following contributions:

\begin{itemize}
\item A detailed analysis of one letter variable names, replicating \cite{Beniamini} on the Scratch programming language
\item An analysis of function names in Scratch
\item An analysis of naming patterns unique to Scratch, including spaces in variable names, textual lables in procedures and numeric variable names
\end{itemize}

This paper gives rise to a number of directions for future work. Firstly, Beniamini et al.~\cite{Beniamini} included a survey in which they ask developers to predict the type of a (one letter) variable. It could be interesting to ask a similar question of children to for common variable names. Furthermore, a detailed study into the readability of variable names with and without spaces, and procedures with and without labels would help us to create naming guidelines for Scratch.




% trigger a \newpage just before the given reference
% number - used to balance the columns on the last page
% adjust value as needed - may need to be readjusted if
% the document is modified later
%\IEEEtriggeratref{8}
% The "triggered" command can be changed if desired:
%\IEEEtriggercmd{\enlargethispage{-5in}}

% references section

% can use a bibliography generated by BibTeX as a .bbl file
% BibTeX documentation can be easily obtained at:
% http://mirror.ctan.org/biblio/bibtex/contrib/doc/
% The IEEEtran BibTeX style support page is at:
% http://www.michaelshell.org/tex/ieeetran/bibtex/
\bibliographystyle{IEEEtran}
% argument is your BibTeX string definitions and bibliography database(s)
\bibliography{paper}
%
% <OR> manually copy in the resultant .bbl file
% set second argument of \begin to the number of references
% (used to reserve space for the reference number labels box)

% that's all folks
\end{document}


